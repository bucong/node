<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" >
		<script src="js/jquery-2.1.0.js" type="text/javascript" charset="utf-8"></script>
		<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<style type="text/css">
			.index{padding-top: 50px;}
			.index .list-group-item{display: flex;justify-content: space-between;line-height: 24px;}
			.index .list-group-item .del{display: block;padding: 0 6px;cursor: pointer;font-size: 24px;color: #f00;}
			.change-pass{cursor: pointer;}
			.flex{display: flex;justify-content: space-between;}
			.add-news{font-size: 18px;cursor: pointer;color: red;}
			.carousel-inner .item img{margin: 0 auto;}
		</style>
	</head>
	<body>
		<div class="carousel slide" id="car">
			<ol class="carousel-indicators">
				<!--data-slide-to="index"控制点和轮播子元素的index相对应-->
				<li class="active" data-target="#car" data-slide-to="0"></li>
				<li data-target="#car" data-slide-to="1"></li>
				<li data-target="#car" data-slide-to="2"></li>
				<li data-target="#car" data-slide-to="3"></li>
			</ol>
			<div class="carousel-inner in">
				<div class="item active"><img src="images/1.jpg" alt="1"/></div>
				<div class="item"><img src="images/2.jpg" alt="2"/></div>
				<div class="item"><img src="images/3.jpg" alt="3"/></div>
				<div class="item"><img src="images/4.jpg" alt="4"/></div>
			</div>
			<a href="#car" class="carousel-control left" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
			<a href="#car" class="carousel-control right" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
		</div>
		<article class="container index">
			<h3>用户列表</h3>
			<ul class="list-group"></ul>
			<div class="modal fade" id="modal1">
			    <div class="modal-dialog">
			        <div class="modal-content">
			            <div class="modal-header">
			                <h4>修改密码</h4>
			            </div>
			            <div class="modal-body">
			                <p>新密码：<input type="password" id="newpass" /></p>
			            </div>
			            <div class="modal-footer">
			                <button type="button" class="btn btn-primary change-val" data-dismiss="modal" data-target="#modal1">确定</button>
			                <button type="button" class="btn btn-default" data-dismiss="modal" data-target="#modal1">关闭</button>
			            </div>
			        </div>
			    </div>
			</div>
			<section class="news-list">
				<h3 class="flex"><span>文章列表</span><a href="news.html" class="add-news">&plus;新增文章</a></h3>
				<ul style="padding-left: 0"></ul>
			</section>
		</article>
		<script src="js/main.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$.ajax({
				type: 'get',
				url:'/user/userlist',
				data:'',
				async:true,
				dataType:'JSON',
				success:function(res){
					console.log(res);
					var list=res;
					var str='';
					for(let item of list){
						str+='<li class="list-group-item flex"><span>'+item.username+'</span><span class="change-pass" data-target="#modal1" data-toggle="modal">修改密码</span><span class="del">&times;</span></li>'
					}
					$('.index .list-group').append(str);
				},error:function(res){
					console.log(res);
				}
			});
      $.ajax({
          type: 'get',
          url:'/news/news_list',
          data:'',
          async:true,
          dataType:'JSON',
          success:function(res){
              console.log(res);
              var list=res;
              var str='';
              for(let item of list){
                  str+='<li class="list-group-item"><a href="newsDetail.html?id='+item.id+'">'+item.name+'</a><span>类别：'+item.type+'</span></li>'
              }
              $('.index .news-list ul').append(str);
          },error:function(res){
              console.log(res);
          }
      });
      $('.carousel').carousel({
          interval:3000
      });
		</script>
	</body>
</html>
